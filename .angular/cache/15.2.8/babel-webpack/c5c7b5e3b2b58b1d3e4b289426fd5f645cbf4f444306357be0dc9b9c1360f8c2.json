{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { ProductOrders, ProductOrder, ITEMS } from 'src/app/modal/Modal';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/order.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ShoppingCartComponent_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", order_r2.product.name, \" - \", order_r2.quantity, \" pcs. \");\n  }\n}\nfunction ShoppingCartComponent_li_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 12)(1, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ShoppingCartComponent_li_20_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.radioSelected = $event);\n    })(\"change\", function ShoppingCartComponent_li_20_Template_input_change_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onItemChange(item_r3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r3.value);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.radioSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", item_r3.name, \"\", item_r3.price, \" \");\n  }\n}\nexport let ShoppingCartComponent = /*#__PURE__*/(() => {\n  class ShoppingCartComponent {\n    constructor(orderService, router) {\n      this.orderService = orderService;\n      this.router = router;\n      this.itemsList = ITEMS;\n      this.total = 0;\n      this.orderFinished = false;\n      this.onOrderFinished = new EventEmitter();\n      this.itemsList = ITEMS;\n      this.radioSelected = 'item_1';\n      this.getSelecteditem();\n    }\n    ngOnInit() {\n      this.orders = new ProductOrders();\n      this.loadCart();\n      this.loadTotal();\n      this.itemsList.forEach(item => {\n        this.onItemChange(item);\n      });\n      this.priceDelivery = 1.99;\n    }\n    calculateTotal(products) {\n      let sum = 0;\n      products.forEach(value => {\n        sum += value.product.price * value.quantity;\n      });\n      return sum + this.priceDelivery;\n    }\n    ngOnDestroy() {\n      this.sub.unsubscribe();\n    }\n    finishOrder() {\n      this.orderFinished = true;\n      this.orderService.Total = this.total;\n      this.onOrderFinished.emit(this.orderFinished);\n    }\n    loadTotal() {\n      this.sub = this.orderService.OrdersChanged.subscribe(() => {\n        this.total = this.calculateTotal(this.orders.productOrders);\n      });\n    }\n    loadCart() {\n      this.sub = this.orderService.ProductOrderChanged.subscribe(() => {\n        let productOrder = this.orderService.SelectedProductOrder;\n        if (productOrder) {\n          this.orders.productOrders.push(new ProductOrder(productOrder.product, productOrder.quantity));\n        }\n        this.orderService.ProductOrders = this.orders;\n        this.orders = this.orderService.ProductOrders;\n        this.total = this.calculateTotal(this.orders.productOrders);\n      });\n    }\n    reset() {\n      this.orderFinished = false;\n      this.orders = new ProductOrders();\n      this.orders.productOrders = [];\n      this.loadTotal();\n      this.total = 0;\n    }\n    getSelecteditem() {\n      this.radioSel = ITEMS.find(Item => Item.value === this.radioSelected);\n      this.radioSelectedString = JSON.stringify(this.radioSel);\n    }\n    onItemChange(item) {\n      this.getSelecteditem();\n      this.priceDelivery = item.price;\n    }\n    commentPage() {\n      this.router.navigate(['comment']);\n    }\n  }\n  ShoppingCartComponent.ɵfac = function ShoppingCartComponent_Factory(t) {\n    return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.OrderService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  ShoppingCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShoppingCartComponent,\n    selectors: [[\"app-shopping-cart\"]],\n    outputs: {\n      onOrderFinished: \"onOrderFinished\"\n    },\n    decls: 21,\n    vars: 4,\n    consts: [[2, \"background\", \"aliceblue\", \"padding\", \"10px\", \"border-radius\", \"5px\"], [1, \"card\", \"text-white\", \"bg-danger\", \"mb-3\", 2, \"max-width\", \"19rem\"], [1, \"card-header\", \"text-center\"], [1, \"card-body\"], [1, \"card-title\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-light\", \"btn-block\", 3, \"disabled\", \"click\"], [1, \"card\", \"text-white\", \"bg-warning\", \"mb-3\", 2, \"max-width\", \"19rem\"], [1, \"card-body\", 2, \"padding\", \"0px !important\", \"margin-top\", \"-30px\"], [1, \"text-center\", \"mt-5\", 2, \"text-align\", \"left !important\", \"padding\", \"0\"], [1, \"list-group\", 2, \"color\", \"black\"], [\"class\", \"list-group-item\", \"style\", \"background: #ffc107 !important;\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", 2, \"background\", \"#ffc107 !important\"], [\"type\", \"radio\", \"name\", \"list_name\", 3, \"ngModel\", \"value\", \"ngModelChange\", \"change\"]],\n    template: function ShoppingCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3, \"Shopping Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"h5\", 4);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h6\", 4);\n        i0.ɵɵtext(8, \"Items bought\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"ul\");\n        i0.ɵɵtemplate(10, ShoppingCartComponent_li_10_Template, 2, 2, \"li\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ShoppingCartComponent_Template_button_click_11_listener() {\n          return ctx.finishOrder();\n        });\n        i0.ɵɵtext(12, \"Checkout \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 7)(14, \"div\", 2);\n        i0.ɵɵtext(15, \"Delivry\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 8)(17, \"div\", 9)(18, \"div\")(19, \"ul\", 10);\n        i0.ɵɵtemplate(20, ShoppingCartComponent_li_20_Template, 3, 4, \"li\", 11);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"Total: $\", ctx.total, \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.orders.productOrders);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.orders.productOrders.length == 0);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.itemsList);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.DefaultValueAccessor, i4.RadioControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".list-group-item[_ngcontent-%COMP%]{background:#007bff!important}.list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gold}.fa-comment-dots[_ngcontent-%COMP%]{font-size:100px;color:#bdc3c7}.fa-comment-dots[_ngcontent-%COMP%]:hover{color:#039be6}#social-media-icon[_ngcontent-%COMP%]{margin-top:20px;width:120px;text-align:center;margin-left:20px;border-radius:10px}#social-media-icon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{padding:14px;font-size:18px;text-align:center;text-decoration:none;margin:5px 2px;border-radius:50%}#social-media-icon[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover{opacity:.7}#social-media-icon[_ngcontent-%COMP%]   .fa-facebook[_ngcontent-%COMP%]{background:#3b5998;color:#fff}#social-media-icon[_ngcontent-%COMP%]   .fa-twitter[_ngcontent-%COMP%]{background:#55acee;color:#fff}#social-media-icon[_ngcontent-%COMP%]   .fa-google[_ngcontent-%COMP%]{background:#dd4b39;color:#fff}#social-media-icon[_ngcontent-%COMP%]   .fa-instagram[_ngcontent-%COMP%]{background:#125688;color:#fff}\"]\n  });\n  return ShoppingCartComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}