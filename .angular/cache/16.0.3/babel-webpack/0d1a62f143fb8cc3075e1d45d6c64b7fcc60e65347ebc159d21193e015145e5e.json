{"ast":null,"code":"import { AddTagToProductComponent } from './../add-tag-to-product/add-tag-to-product.component';\nimport { AddProductComponent } from './../add-product/add-product.component';\nimport { AddCategoryComponent } from './../add-category/add-category.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../service/product.service\";\nimport * as i2 from \"./../../service/category.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"./../../service/user.service\";\nimport * as i6 from \"src/app/service/tag.service\";\nimport * as i7 from \"src/app/service/comment.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/cdk/drag-drop\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/card\";\nimport * as i12 from \"@angular/material/chips\";\nimport * as i13 from \"@angular/material/expansion\";\nfunction CategoriesComponent_div_11_mat_chip_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip-option\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tag_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r4.name, \" \");\n  }\n}\nfunction CategoriesComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13);\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\", 16)(6, \"h5\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 18);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 19)(11, \"small\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"ul\", 21)(14, \"li\", 22);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_11_Template_li_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const pro_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.editProduct(pro_r2.id));\n    });\n    i0.ɵɵtext(15, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"li\", 22);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_11_Template_li_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const pro_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.deleteProduct(pro_r2.id, ctx_r7.user.id));\n    });\n    i0.ɵɵtext(17, \"Delete \");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelement(18, \"br\");\n    i0.ɵɵelementStart(19, \"div\", 1)(20, \"div\", 13)(21, \"span\", 23);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_11_Template_span_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const pro_r2 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.addTag(pro_r2.id));\n    });\n    i0.ɵɵtext(22, \" Add Tag\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 15)(24, \"mat-accordion\")(25, \"mat-expansion-panel\", 9)(26, \"mat-expansion-panel-header\", 24);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_div_11_Template_mat_expansion_panel_header_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const pro_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.showTags(pro_r2.id));\n    });\n    i0.ɵɵelementStart(27, \"mat-panel-title\");\n    i0.ɵɵtext(28, \" Tags \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"mat-panel-description\");\n    i0.ɵɵtext(30, \" for this product \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"mat-chip-listbox\", 25);\n    i0.ɵɵtemplate(32, CategoriesComponent_div_11_mat_chip_option_32_Template, 2, 1, \"mat-chip-option\", 26);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(33, \"br\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pro_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", pro_r2.pictureUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", pro_r2.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(pro_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", pro_r2.price, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pro_r2.description);\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.tags);\n  }\n}\nfunction CategoriesComponent_mat_card_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 28)(1, \"mat-card-header\");\n    i0.ɵɵelement(2, \"div\", 29);\n    i0.ɵɵelementStart(3, \"mat-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-card-subtitle\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\")(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 30);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"mat-card-actions\")(13, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_mat_card_27_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const comment_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.deleteComment(comment_r10.id));\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(15, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const comment_r10 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Added By \", comment_r10.addedBy, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Added At \", comment_r10.addedBy, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r10.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(comment_r10.message);\n  }\n}\nexport let CategoriesComponent = /*#__PURE__*/(() => {\n  class CategoriesComponent {\n    constructor(productService, categoryService, route, dialog, userService, tagService, commentService) {\n      this.productService = productService;\n      this.categoryService = categoryService;\n      this.route = route;\n      this.dialog = dialog;\n      this.userService = userService;\n      this.tagService = tagService;\n      this.commentService = commentService;\n      this.category = {};\n      this.user = {};\n      this.route.params.subscribe(params => {\n        this.idCategory = this.route.snapshot.params.idCategory;\n        this.categoryService.findCategoryById(this.idCategory).subscribe(category => {\n          this.category = category;\n          this.productService.findProductsForCategory(this.idCategory).subscribe(products => {\n            this.products = products;\n          });\n        });\n        this.userService.findByUsername(this.userService.getUsername()).subscribe(user => {\n          this.user = user;\n        });\n        this.commentService.findAllComments().subscribe(comments => {\n          this.comments = comments;\n        });\n      });\n    }\n    ngOnInit() {}\n    addTag(idProduct) {\n      this.dialog.open(AddTagToProductComponent, {\n        data: {\n          idProduct\n        }\n      });\n    }\n    showTags(idProduct) {\n      this.tagService.findTagsForProduct(idProduct).subscribe(tags => {\n        this.tags = tags;\n      });\n    }\n    deleteCategory(idCategory, idUser) {\n      if (confirm(\"Are you sure\")) {\n        this.categoryService.deleteCategory(idCategory).subscribe(() => {\n          window.location.replace(`/profile/${idUser}`);\n        });\n      }\n    }\n    editCategory(idCategory) {\n      this.dialog.open(AddCategoryComponent, {\n        data: {\n          idCategory\n        }\n      });\n    }\n    deleteProduct(idProduct, idUser) {\n      if (confirm(\"Are you sure\")) {\n        this.productService.deleteProduct(idProduct).subscribe(() => {\n          window.location.replace(`/profile/${idUser}`);\n        });\n      }\n    }\n    editProduct(idProduct) {\n      this.dialog.open(AddProductComponent, {\n        data: {\n          idProduct\n        }\n      });\n    }\n    deleteComment(id) {\n      this.commentService.deleteComment(id).subscribe(() => {\n        window.location.reload();\n      });\n    }\n  }\n  CategoriesComponent.ɵfac = function CategoriesComponent_Factory(t) {\n    return new (t || CategoriesComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.UserService), i0.ɵɵdirectiveInject(i6.TagService), i0.ɵɵdirectiveInject(i7.CommentService));\n  };\n  CategoriesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CategoriesComponent,\n    selectors: [[\"app-categories\"]],\n    decls: 28,\n    vars: 3,\n    consts: [[\"appearance\", \"outlined\"], [1, \"row\"], [1, \"col-md-6\"], [\"mat-card-avatar\", \"\"], [\"class\", \"card mb-3\", 4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"accent\", 3, \"click\"], [1, \"col-lg-md\"], [2, \"margin-left\", \"25px\"], [\"hideToggle\", \"\"], [\"appearance\", \"outlined\", \"class\", \"example-card\", \"style\", \"margin-bottom: 10px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mb-3\"], [1, \"row\", \"g-0\"], [1, \"col-md-4\"], [2, \"width\", \"150px\", 3, \"src\", \"alt\"], [1, \"col-md-8\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", 2, \"color\", \"firebrick\", \"font-weight\", \"bold\"], [1, \"card-text\"], [1, \"text-muted\"], [1, \"list-group\", \"list-group-horizontal\"], [1, \"list-group-item\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"badge\", \"rounded-pill\", \"bg-dark\", 2, \"cursor\", \"pointer\", \"margin\", \"10px\", \"color\", \"aliceblue\", \"padding\", \"5px 10px\", 3, \"click\"], [3, \"click\"], [\"cdkDropList\", \"\", \"cdkDropListOrientation\", \"horizontal\", 1, \"example-chip\"], [\"class\", \"example-box\", \"cdkDrag\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 1, \"example-box\"], [\"appearance\", \"outlined\", 1, \"example-card\", 2, \"margin-bottom\", \"10px\"], [\"mat-card-avatar\", \"\", 1, \"example-header-image\"], [2, \"width\", \"350px\"]],\n    template: function CategoriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\");\n        i0.ɵɵelementStart(1, \"mat-card\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"mat-card-header\");\n        i0.ɵɵelement(5, \"div\", 3);\n        i0.ɵɵelementStart(6, \"mat-card-title\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"mat-card-subtitle\");\n        i0.ɵɵtext(9, \"All products for this category\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"mat-card-content\");\n        i0.ɵɵtemplate(11, CategoriesComponent_div_11_Template, 34, 6, \"div\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-card-actions\")(13, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function CategoriesComponent_Template_button_click_13_listener() {\n          return ctx.editCategory(ctx.category.id);\n        });\n        i0.ɵɵtext(14, \"Update category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function CategoriesComponent_Template_button_click_15_listener() {\n          return ctx.deleteCategory(ctx.category.id, ctx.user.id);\n        });\n        i0.ɵɵtext(16, \"Delete category\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 7)(18, \"h2\", 8);\n        i0.ɵɵtext(19, \"Comments\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-accordion\")(21, \"mat-expansion-panel\", 9)(22, \"mat-expansion-panel-header\")(23, \"mat-panel-title\");\n        i0.ɵɵtext(24, \" Management \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-panel-description\");\n        i0.ɵɵtext(26, \" The comments \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(27, CategoriesComponent_mat_card_27_Template, 16, 4, \"mat-card\", 10);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.category.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.comments);\n      }\n    },\n    dependencies: [i8.NgForOf, i9.CdkDropList, i9.CdkDrag, i10.MatButton, i11.MatCard, i11.MatCardActions, i11.MatCardAvatar, i11.MatCardContent, i11.MatCardHeader, i11.MatCardSubtitle, i11.MatCardTitle, i12.MatChipListbox, i12.MatChipOption, i13.MatAccordion, i13.MatExpansionPanel, i13.MatExpansionPanelHeader, i13.MatExpansionPanelTitle, i13.MatExpansionPanelDescription]\n  });\n  return CategoriesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}